# ====================================
# Nexpass Environment Configuration
# ====================================

# ==================== Appwrite ====================
NEXT_PUBLIC_APPWRITE_ENDPOINT=https://cloud.appwrite.io/v1
NEXT_PUBLIC_APPWRITE_PROJECT_ID=your-project-id
NEXT_PUBLIC_APPWRITE_DATABASE_ID=your-database-id
APPWRITE_API_KEY=your-api-key

# Collection IDs - Legacy (unencrypted)
APPWRITE_TRANSACTIONS_COLLECTION_ID=transactions_dev
APPWRITE_BANK_ACCOUNTS_COLLECTION_ID=bank_accounts_dev
APPWRITE_BALANCES_COLLECTION_ID=balances_dev
APPWRITE_BANK_CONNECTIONS_COLLECTION_ID=bank_connections_dev
APPWRITE_REQUISITIONS_COLLECTION_ID=requisitions_dev

# Collection IDs - Encrypted (enable after schema deployment)
# Note: Transactions are FULLY encrypted - no public table
APPWRITE_TRANSACTIONS_ENC_COLLECTION_ID=transactions_enc
APPWRITE_BANK_ACCOUNTS_ENC_COLLECTION_ID=bank_accounts_enc
APPWRITE_BANK_BALANCES_ENC_COLLECTION_ID=bank_balances_enc
APPWRITE_BANK_CONNECTIONS_ENC_COLLECTION_ID=bank_connections_enc
APPWRITE_REQUISITIONS_ENC_COLLECTION_ID=requisitions_enc

# ==================== Encryption ====================
# IMPORTANT: Set ENCRYPTION_PROVIDER to enable encryption
# If not set or empty, the app will use legacy unencrypted storage
ENCRYPTION_PROVIDER=
# Options: 'aws' or 'gcp' (leave empty to disable encryption)

# Encryption Version
ENC_VERSION=1

# ==================== AWS KMS (if ENCRYPTION_PROVIDER=aws) ====================
# Create a KMS key in AWS Console:
# 1. Go to AWS KMS → Customer managed keys → Create key
# 2. Choose symmetric encryption key
# 3. Set key alias (e.g., 'nexpass-encryption-key')
# 4. Configure key administrators and users
# 5. Copy the ARN below
AWS_KMS_KEY_ARN=
# Example: arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012

# AWS Credentials (for KMS access)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1

# ==================== GCP KMS (if ENCRYPTION_PROVIDER=gcp) ====================
# Create a keyring and key in Google Cloud Console:
# gcloud kms keyrings create nexpass-keyring --location us
# gcloud kms keys create nexpass-key --keyring nexpass-keyring --location us --purpose encryption
GCP_KMS_KEY_URI=
# Example: gcp-kms://projects/my-project/locations/us/keyRings/nexpass-keyring/cryptoKeys/nexpass-key

# Path to GCP service account credentials JSON file
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# ==================== Blind Index Keys ====================
# Generate these keys using: node scripts/generate-encryption-keys.js
# CRITICAL: Keep these SECRET - never commit to version control
# Store in AWS Secrets Manager, GCP Secret Manager, or similar
INDEX_KEY_MERCHANT=
INDEX_KEY_DESC=

# ==================== GoCardless ====================
GC_SECRET_ID=your-gocardless-secret-id
GC_SECRET_KEY=your-gocardless-secret-key
GC_REDIRECT_URI=http://localhost:3000/link-bank/callback
GC_API_BASE_URL=https://bankaccountdata.gocardless.com/api/v2

# ==================== OpenAI (for transaction categorization) ====================
OPENAI_API_KEY=your-openai-api-key

# ==================== Resend Email Service ====================
RESEND_API_KEY=your-resend-api-key
RESEND_FROM_EMAIL=noreply@yourdomain.com

# ==================== Next.js ====================
NODE_ENV=development

# ==================== Plaid ====================
PLAID_SANDBOX_API_KEY=
PLAID_CLIENT_ID=
PLAID_SANDBOX_SECRET=